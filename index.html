<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Schulmusik Start</title>
  <style>
    body {
      background: #111;
      color: white;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding-top: 60px;
    }
    button {
      font-size: 40px;
      padding: 30px 60px;
      cursor: pointer;
      border: none;
      border-radius: 12px;
      background: #1db954;
      color: white;
    }
  </style>

  <!-- Firebase SDK hinzufÃ¼gen -->
 <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>

<script>
  // Firebase-Konfiguration
  const firebaseConfig = {
    apiKey: "AIzaSyB6oywGaz3Azhj8IvuFeCZZtkyCcvO7Drs",
    authDomain: "music-cab19.firebaseapp.com",
    projectId: "music-cab19",
    storageBucket: "music-cab19.firebasestorage.app",
    messagingSenderId: "379495697909",
    appId: "1:379495697909:web:93041e872ddf7dd29be4bc",
    measurementId: "G-F8WYPGCH47"
  };

  // Firebase initialisieren
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore(app);
</script>

</head>
<body>

  <h1>ðŸŽ¶ Schulmusik ðŸŽ¶</h1>
  <p>Ein Klick â€“ Ã¼berall Musik</p>

  <button id="startButton">â–¶ START</button>

  <audio id="audioPlayer" style="display:none;" controls>
    <source src="DEIN_LINK_ZUR_MUSIK_HIER" type="audio/mpeg">
    Dein Browser unterstÃ¼tzt dieses Audioformat nicht.
  </audio>

<script>
  // Firebase Listener fÃ¼r "startMusic" - ÃœberprÃ¼fen, ob Musik gestartet werden soll
  db.collection("music").doc("status").onSnapshot((doc) => {
    if (doc.exists && doc.data().play === true) {
      document.getElementById("audioPlayer").play();
    }
  });

  // Wenn der "START"-Button geklickt wird, wird die Nachricht an alle GerÃ¤te gesendet
  document.getElementById("startButton").addEventListener("click", () => {
    // Firebase-Dokument aktualisieren, dass die Musik starten soll
    db.collection("music").doc("status").set({
      play: true
    }).then(() => {
      console.log("Musik wird gestartet");
    }).catch((error) => {
      console.error("Fehler beim Starten der Musik: ", error);
    });
  });
</script>

</body>
</html>
